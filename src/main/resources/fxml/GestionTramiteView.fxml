<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<VBox spacing="20" style="-fx-padding: 30; -fx-background-color: #f4f7f6;"
      xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="ui.analista.GestionTramiteController">

    <VBox spacing="5">
        <Label text="GESTIÓN OPERATIVA DE TRÁMITES"
               style="-fx-font-size: 24; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
        <Label text="Monitoreo de solicitudes en curso y control de estados del proceso."
               style="-fx-text-fill: #95a5a6; -fx-font-size: 14;"/>
    </VBox>

    <HBox spacing="15" alignment="CENTER_LEFT"
          style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 12; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.05), 10, 0, 0, 4);">
        <children>
            <VBox spacing="5">
                <Label text="Estado del Proceso" style="-fx-font-weight: bold; -fx-text-fill: #34495e; -fx-font-size: 12;"/>
                <ComboBox fx:id="comboFiltroEstado" onAction="#handleFiltrar" prefWidth="200" prefHeight="35"
                          promptText="Todos los estados"
                          style="-fx-background-color: white; -fx-border-color: #dcdde1; -fx-border-radius: 5;"/>
            </VBox>

            <Region HBox.hgrow="ALWAYS" />

            <HBox spacing="10" alignment="BOTTOM_CENTER">
                <Button onAction="#handleVerDetalle" prefHeight="35" text="Ver Detalle"
                        style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand; -fx-background-radius: 5; -fx-padding: 0 20;"/>

                <Button onAction="#handleGenerarLicencia" prefHeight="35" text="Generar Licencia"
                        style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand; -fx-background-radius: 5; -fx-padding: 0 20; -fx-effect: dropshadow(gaussian, rgba(39, 174, 96, 0.2), 8, 0, 0, 2);"/>
            </HBox>
        </children>
    </HBox>

    <VBox VBox.vgrow="ALWAYS" style="-fx-background-color: white; -fx-background-radius: 12; -fx-padding: 10; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.05), 10, 0, 0, 4);">
        <children>
            <TableView fx:id="tablaTramites" VBox.vgrow="ALWAYS"
                       style="-fx-background-color: transparent; -fx-selection-bar: #ebf5fb; -fx-selection-bar-non-focused: #f4f7f6;">
                <columns>
                    <TableColumn fx:id="colId" text="ID" prefWidth="60" style="-fx-alignment: CENTER;"/>
                    <TableColumn fx:id="colCedula" text="Cédula" prefWidth="110" style="-fx-alignment: CENTER;"/>
                    <TableColumn fx:id="colNombre" text="Solicitante" prefWidth="200"/>
                    <TableColumn fx:id="colTipo" text="Tipo" prefWidth="60" style="-fx-alignment: CENTER;"/>
                    <TableColumn fx:id="colFecha" text="Fecha" prefWidth="110" style="-fx-alignment: CENTER;"/>
                    <TableColumn fx:id="colEstado" text="Estado Actual" prefWidth="130" style="-fx-alignment: CENTER; -fx-font-weight: bold;"/>
                    <TableColumn fx:id="colAcciones" text="Acciones Rápidas" prefWidth="280" style="-fx-alignment: CENTER;"/>
                </columns>
                <columnResizePolicy>
                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                </columnResizePolicy>
            </TableView>
        </children>
    </VBox>

    <HBox alignment="CENTER_LEFT" spacing="20" style="-fx-padding: 5 0 0 0;">
        <Label text="Nota: Las acciones rápidas se habilitan según la fase del trámite."
               style="-fx-font-style: italic; -fx-text-fill: #95a5a6; -fx-font-size: 11;"/>
        <Region HBox.hgrow="ALWAYS" />
        <Label text="v1.1.0" style="-fx-text-fill: #bdc3c7; -fx-font-size: 11;"/>
    </HBox>

</VBox>